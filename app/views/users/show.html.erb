<h1 class="text-center mb-4">あなたのマイページ</h1>

<div class="text-center mb-3"> 
  <% if @user.avatar.attached? %>
    <%= image_tag @user.avatar, class: "rounded-circle", size: "150x150" %>
  <% else %>
    <%= image_tag "no_image_hoikatsuhiroba.png", class: "rounded-circle", size: "150x150" %>
  <% end %>
</div>

<div class="container">
  <div class="row justify-content-center">
    <div class="col-md-8">
      <h2 class="text-center">あなたの投稿一覧</h2>

      <% if @posts.present? %>
        <div class="d-flex justify-content-center">
          <ul class="list-unstyled">
            <% @posts.each do |post| %>
              <li>
                ・<%= link_to post.title, post_path(post), class: "text-primary" %>
              </li>
            <% end %>
          </ul>
        </div>
      <% else %>
        <p class="text-center text-muted">あなたの投稿はありません。</p>
      <% end %>

      <br>

      <% unless @user.email == "guest@example.com" %>
        <div class="text-center mt-4 d-flex justify-content-center gap-3">
          <%= link_to 'プロフィールを編集', edit_user_path(@user), class: "btn btn-outline-primary" %>
          <%= button_to '退会する', destroy_account_user_path(@user), method: :delete, data: { confirm: '本当に退会しますか？' }, class: "btn btn-danger" %>
        </div>
      <% end %>
    </div>
  </div>
</div>
